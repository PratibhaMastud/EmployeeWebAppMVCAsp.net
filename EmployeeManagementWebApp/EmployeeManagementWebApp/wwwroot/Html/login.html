<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <title>Login</title>

</head>
<body>
    <div class="topnav">
        <h3 class="h3">Employee Management System</h3>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-4 offset-md-4 form-div divc ">
                <form name="form1">
                    <h1 class="text-center">Login</h1>
                    <div class="form-group">
                        <label for="email"><B />Email-Id : </label>
                        <input type="text" name="email" id="emailId"
                               class="form-control form-control-lg" placeholder="Enter Email Address" />
                        <br />
                        <label for="password"><B />Password : </label>
                        <input type="password" name="password" id="passwordId"
                               class="form-control form-control-lg" placeholder="Enter Password " />
                        <br />
                        <div class="pass">
                            <a href="forgotpage.html"> Forgot Password?</a>
                        </div>
                        <button type="submit" class="btn btn-primary" id="LoginCheck">Login</button>
                        <br />
                        <div class="signup_link">
                            Create New account <a href="Registration.html"> Signup</a>
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </div>


    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#LoginCheck").click(function () {
                var emailExp = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;
                var passwordExp = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;
                if (!emailExp.test(document.form1.email.value)) {
                    alert("Invalid email-Id ");
                    document.form1.email.focus();
                    return false;
                } else if (!passwordExp.test(document.form1.password.value)) {
                    alert("Invalid password ");
                    document.form1.password.focus();
                    return false;
               }

                var employeeLogin = {};
                employeeLogin.Email = $("#emailId").val();
                employeeLogin.Password = $("#passwordId").val();
                $.ajax({
                    type: "POST",
                    url: "/api/Login",
                    data: JSON.stringify(employeeLogin),
                    dataType: "",
                    contentType: "application/json; charset=utf-8",
                    processData: true,
                    success: function () {
                        alert("Login successfully");
                       window.location.href = "https://localhost:5001/Html/Homepage.html";
                        //window.location.href = "https://localhost:5001/Html/Home.html";
                        return true;
                    },
                    error: function () {
                        alert("Error while Login data");
                    }
                });
                return false;
            });
        });
    </script>
</body>
</html>
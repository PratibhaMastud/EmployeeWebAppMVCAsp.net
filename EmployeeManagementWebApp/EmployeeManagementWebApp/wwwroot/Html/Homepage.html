<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" initial-sacle=1>
    <link  href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/home.css" />

    <title>Home</title>
    <style>
        .scroll {
            overflow-y: scroll;
            min-width: 200px;
            height: 400px;
        }
    </style>
</head>
<body>
    <div class="topnav">
        <h3 class="h3">Employee Management System</h3>
        <a href="Homepage.html">Reset Password</a>
        <a href="Reset.html">Reset Password</a>
    </div>
    <div class="container">
        <div class="row">
            <form class="form-div">
                <div class="col-14 scroll">
                    <h4 class="h4">Employee List : </h4>
                    <table class="table table-bordered" id="employeetbl">
                        <thead>
                            <tr>
                                <td>Id</td>
                                <td>First Name</td>
                                <td>Last Name</td>
                                <td>Mobile No</td>
                                <td>Email</td>
                                <td>Address</td>
                                <td>Pincode</td>
                                <td>Company Name</td>
                                <td>Job Profile</td>
                                <td colspan="2" id="action">Action</td>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </form>
        </div>
    </div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $.ajax({
                url: "/api/getEmployee",
                type: "GET",
                dataType: "Json",
                success: function (data) {
                    var employeeRecord = $("#employeetbl tbody");
                    $(data).each(function (index, employee) {
                        employeeRecord.append('<tr><td>' + employee.employeeId + '</td><td>' + employee.firstName + '</td><td>' + employee.lastName + '</td><td>' + employee.mobileNo + '</td><td>' + employee.email + '</td><td>' + employee.address
                            + '</td><td>' + employee.pincode + '</td><td>' + employee.companyName + '</td><td>' + employee.jobProfile + '<td>+ <a href= Edit.html><label id=edit>Edit</label></a></td>' + '<td ><a href= Delete.html><label id=delete>Delete</label></a></td>');
                        console.log(employee);
                    });
                }
            });
        });
    </script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script type="text/javascript">
            $(function () {
                $("#employeetbl tbody tr").remove();
                $.ajax({
                    type: 'GET',
                    url: "/api/delete",
                    dataType: 'json',
                    data: { id: '' },
                    success: function (data) {
                        var items = '';
                        $.each(data, function (i, item) {
                            var rows = "<tr>"
                                + "<td >" + item.Id + "</td>"
                                + "<td >" + item.FirstName + "</td>"
                                + "<td >" + item.LastName + "</td>"
                                + "<td >" + item.City + "</td>"
                                + "<td >" + item.State + "</td>"
                                + "<td >" + item.Zip + "</td>"
                                  //+ "<td ><a href=" + master.html + "><label id=editlabel>Edit</label></a></td>"
                            //+ "<td ><a href=" + master.html + "><label id=deletlabel>Delete</label></a></td>"
                            + "</tr>";
                        $('#tblStudent tbody').append(rows);
                    });
                },
               
            });
            return false;
        });
    </script>

</body>
    </html>
